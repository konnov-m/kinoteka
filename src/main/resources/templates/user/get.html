<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Bootstrap Bundle JS-->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</head>

<div th:replace="header :: content"></div>

<body>
<div class="container">
    <form th:if="${user != null}" method="post" th:action="@{/update}" th:object="${user}">
        <input name="${_csrf.parameterName}" value="${_csrf.token}" type="hidden">
        <div class="mb-3">

            <label for="login" class="form-label">Login</label>
            <input type="text"  class="form-control" id="login" aria-describedby="stockHelp" th:field="*{login}" readonly>
            <!--      <div style="color:red" th:if="${#fields.hasErrors('login')}" th:errors="*{login}">login error</div>-->

            <!--      <label for="Password" class="form-label">Password</label>-->
            <input type="hidden" class="form-control" id="password" aria-describedby="stockHelp" th:field="*{password}">
            <!--      <div style="color:red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">password error</div>-->

            <label for="surname" class="form-label">Surname</label>
            <input class="form-control" id="surname" aria-describedby="stockHelp" th:field="*{surname}">
            <div style="color:red" th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}">surname error</div>

            <label for="name" class="form-label">Name</label>
            <input class="form-control" id="name" aria-describedby="stockHelp" th:field="*{name}">
            <div style="color:red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">name error</div>

            <label for="patronymic" class="form-label">Patronymic</label>
            <input class="form-control" id="patronymic" aria-describedby="stockHelp" th:field="*{patronymic}">
            <div style="color:red" th:if="${#fields.hasErrors('patronymic')}" th:errors="*{patronymic}">patronymic error</div>

            <label for="birthday" class="form-label">Birthday</label>
            <input class="form-control" id="birthday" aria-describedby="stockHelp" th:field="*{birthday}">
            <div style="color:red" th:if="${#fields.hasErrors('birthday')}" th:errors="*{birthday}">birthday error</div>

            <label for="sex" class="form-label">Sex</label>
            <input class="form-control" id="sex" aria-describedby="stockHelp" th:field="*{sex}">
            <div style="color:red" th:if="${#fields.hasErrors('sex')}" th:errors="*{sex}">sex error</div>

            <input type="hidden" class="form-control" id="id" aria-describedby="stockHelp" th:field="*{id}">

        </div>
<!--        <button type="submit" class="btn btn-primary">Update</button>-->
    </form>

    <h5>Available permissions</h5>
    <tr th:each="permission: ${user.permissions}">
        <td th:text="${permission.name}" />
    </tr>

</div>

</body>
</html>